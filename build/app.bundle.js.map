{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./AirPollMain.js","webpack:///./FirebaseCredentials.js"],"names":["allDataPoints","dataPointMarkers","dataPointCircles","dataGrid","showDataPoints","showDataCircles","showDataGrid","heatmap","initApp","config","firebase","initializeApp","dataPointsDbRef","firestore","collection","map","initMap","initHeatmap","addMapClickListener","addDataPointDbListener","addFormButtonListeners","window","google","maps","Map","document","getElementById","center","lat","lng","zoom","styles","featureType","stylers","visibility","disableDoubleClickZoom","streetViewControl","visualization","HeatmapLayer","radius","dissipating","addListener","mapLayer","dataPoint","latlng","latLng","toJSON","value","Math","floor","random","toString","date","Date","toUTCString","push","addNewDataPointClickToDb","addMarkerToMap","add","then","docRef","console","log","id","catch","error","get","dataPoints","forEach","data","getData","LatLng","hue","colorString","marker","Marker","position","label","visible","icon","path","SymbolPath","CIRCLE","strokeColor","strokeOpacity","strokeWeight","fillColor","fillOpacity","scale","toDateString","toTimeString","split","drawCircle","opacity","Circle","viewTypeButton","onclick","innerText","hideDataPoints","hideDataCircles","hideHeatmap","displayGrid","hideDataGrid","showPointsButton","showCirclesButton","showHeatmapButton","hidden","classList","remove","dataPointMarker","setVisible","dataPointCircle","setMap","rectangle","bounds","getBounds","projection","getProjection","ne","fromLatLngToPoint","getNorthEast","sw","getSouthWest","pow","getZoom","widthPixels","x","heightPixels","y","totalSquareLengthPixels","min","gridLengthPixels","round","xOffsetOffScreen","yOffsetOffScreen","gridsAmountX","gridsAmountY","gridsXPixels","xPixels","maxX","gridsYPixels","yPixels","maxY","gridDataCollection","gridX","gridY","pixelPoint","pixelX","pixelY","maxGridValue","minGridValue","sumOfGridValues","totalGridValues","gridIndexToLatLngBounds","length","gridBounds","pointToLatLng","values","count","total","index","parseInt","avg","toFixed","parseFloat","gridBlendedDataCollection","blendGrid","drawRectangle","xIndex","yIndex","val","dontShowGrid","blendOperation","gridValues","isNaN","startX","startY","gridLength","nePoint","Point","fromPointToLatLng","swPoint","LatLngBounds","Rectangle","firebaseCredentials","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId"],"mappings":"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","file":"app.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./AirPollMain.js\");\n","import { firebaseCredentials } from './FirebaseCredentials';\n\nlet allDataPoints = [];\nlet dataPointMarkers = [];\nlet dataPointCircles = [];\nlet dataGrid = [];\n\nlet showDataPoints = true;\nlet showDataCircles = false;\nlet showDataGrid = false;\nlet heatmap;\n\n\n/**\n * Creates a map object with a click listener and a heatmap.\n */\nfunction initApp() {\n  const config = firebaseCredentials(); //Firebase API keys\n\n  firebase.initializeApp(config);\n  const dataPointsDbRef = firebase.firestore().collection('datapoints');\n\n  const map = initMap();\n  heatmap = initHeatmap(map);\n\n  addMapClickListener(map, dataPointsDbRef);\n  addDataPointDbListener(dataPointsDbRef, map);\n  addFormButtonListeners(map);\n}\n\nwindow.initApp = initApp;\n\nfunction initMap() {\n  return new google.maps.Map(document.getElementById('map'), {\n    center: {lat: 50.9365, lng: -1.396},\n    zoom: 16,\n    //hide points of interest and public transport\n    styles: [{\n      featureType: 'poi',\n      stylers: [{visibility: 'off'}],\n    }, {\n      featureType: 'transit.station',\n      stylers: [{visibility: 'off'}],\n    }],\n    disableDoubleClickZoom: true,\n    streetViewControl: false,\n  });\n}\n\n//Heatmap is only used to show where we have data\nfunction initHeatmap() {\n  return new google.maps.visualization.HeatmapLayer({radius: 0.005, dissipating: false});\n}\n\nfunction addMapClickListener(map, dataPointsDbRef) {\n  map.addListener('click', function (mapLayer) {\n\n    const dataPoint = {\n      latlng: mapLayer.latLng.toJSON(),\n      value: Math.floor((Math.random() * 100)).toString(),\n      date: new Date().toUTCString(),\n    };\n    allDataPoints.push(dataPoint);\n\n    addNewDataPointClickToDb(dataPointsDbRef, dataPoint);\n    addMarkerToMap(map, dataPoint);\n  });\n}\n\nfunction addNewDataPointClickToDb(dataPointsDbRef, dataPoint) {\n  dataPointsDbRef.add(dataPoint).then(function (docRef) {\n    console.log('Document written with ID: ', docRef.id);\n  }).catch(function (error) {\n    console.error('Error adding document: ', error);\n  });\n}\n\nfunction addDataPointDbListener(dataPointsDbRef, map) {\n  dataPointsDbRef.get().then(function (dataPoints) {\n    dataPoints.forEach(function (dataPoint) {\n      allDataPoints.push(dataPoint.data());\n      addMarkerToMap(map, dataPoint.data());\n    });\n  });\n\n  //TODO: get datapoints as they are added to database\n}\n\n\nfunction addMarkerToMap(map, dataPoint) {\n  const latlng = dataPoint.latlng;\n  heatmap.getData().push(new google.maps.LatLng(latlng.lat, latlng.lng));\n  const hue = (100 - dataPoint.value) * 0.6;\n  const colorString = 'hsl(' + hue + ', 100%, 50%)';\n  const marker = new google.maps.Marker({\n    position: latlng,\n    label: dataPoint.value.toString(),\n    map: map,\n    visible: showDataPoints,\n    icon: {\n      path: google.maps.SymbolPath.CIRCLE,\n      strokeColor: colorString,\n      strokeOpacity: 0,\n      strokeWeight: 1,\n      fillColor: colorString,\n      fillOpacity: 0,\n      scale: 100,\n    },\n  });\n\n  dataPointMarkers.push(marker);\n\n  marker.addListener('click', function () {\n    const date = new Date(dataPoint.date);\n    document.getElementById('date').value = date.toDateString();\n    document.getElementById('time').value = date.toTimeString().split(' ')[0];\n    document.getElementById('value').value = dataPoint.value;\n  });\n\n  drawCircle(latlng, map, colorString, 0.5, 50);\n  drawCircle(latlng, map, colorString, 0.3, 100);\n  drawCircle(latlng, map, colorString, 0.1, 200);\n}\n\nfunction drawCircle(latlng, map, colorString, opacity, radius) {\n  dataPointCircles.push(\n    new google.maps.Circle({\n      strokeOpacity: 0,\n      fillColor: colorString,\n      fillOpacity: opacity,\n      map: map,\n      center: latlng,\n      radius: radius,\n      visible: showDataCircles,\n    }),\n  );\n}\n\nfunction addFormButtonListeners(map) {\n\n\n  let viewTypeButton = document.getElementById('viewType');\n  viewTypeButton.onclick = function () {\n    if (viewTypeButton.innerText === 'Switch to Grid View') {\n      viewTypeButton.innerText = 'Switch to Data Points View';\n      hideDataPoints(true);\n      hideDataCircles(true);\n      hideHeatmap(true, map);\n\n      displayGrid(map);\n    } else {\n      viewTypeButton.innerText = 'Switch to Grid View';\n      hideDataPoints(false);\n      hideDataCircles(false);\n      hideHeatmap(true, map);\n      hideDataGrid(true);\n    }\n  };\n\n  let showPointsButton = document.getElementById('showPoints');\n  showPointsButton.onclick = function () {\n    if (showPointsButton.innerText === 'Show Data Points') {\n      hideDataPoints(false);\n    } else {\n      hideDataPoints(true);\n    }\n  };\n\n  let showCirclesButton = document.getElementById('showCircles');\n  showCirclesButton.onclick = function () {\n    if (showCirclesButton.innerText === 'Show Data Circles') {\n      hideDataCircles(false);\n    } else {\n      hideDataCircles(true);\n    }\n  };\n\n  let showHeatmapButton = document.getElementById('showHeatmap');\n  showHeatmapButton.onclick = function () {\n    if (showHeatmapButton.innerText === 'Show Heatmap') {\n      hideHeatmap(false, map);\n    } else {\n      hideHeatmap(true, map);\n    }\n  };\n}\n\nfunction hideDataPoints(hidden) {\n  let showPointsButton = document.getElementById('showPoints');\n  if (hidden) {\n    showPointsButton.innerText = 'Show Data Points';\n    showPointsButton.classList.remove('btn-primary');\n    showPointsButton.classList.add('btn-outline-primary');\n  } else {\n    showPointsButton.innerText = 'Hide Data Points';\n    showPointsButton.classList.remove('btn-outline-primary');\n    showPointsButton.classList.add('btn-primary');\n  }\n  showDataPoints = !hidden;\n  dataPointMarkers.forEach(function (dataPointMarker) {\n    dataPointMarker.setVisible(!hidden);\n  });\n}\n\nfunction hideDataCircles(hidden) {\n  let showCirclesButton = document.getElementById('showCircles');\n  if (hidden) {\n    showCirclesButton.innerText = 'Show Data Circles';\n    showCirclesButton.classList.remove('btn-primary');\n    showCirclesButton.classList.add('btn-outline-primary');\n  } else {\n    showCirclesButton.innerText = 'Hide Data Circles';\n    showCirclesButton.classList.remove('btn-outline-primary');\n    showCirclesButton.classList.add('btn-primary');\n  }\n  showDataCircles = !hidden;\n  dataPointCircles.forEach(function (dataPointCircle) {\n    dataPointCircle.setVisible(!hidden);\n  });\n}\n\nfunction hideHeatmap(hidden, map) {\n  let showHeatmapButton = document.getElementById('showHeatmap');\n  if (hidden) {\n    showHeatmapButton.innerText = 'Show Heatmap';\n    showHeatmapButton.classList.remove('btn-primary');\n    showHeatmapButton.classList.add('btn-outline-primary');\n    heatmap.setMap(null);\n  } else {\n    showHeatmapButton.innerText = 'Hide Heatmap';\n    showHeatmapButton.classList.remove('btn-outline-primary');\n    showHeatmapButton.classList.add('btn-primary');\n    heatmap.setMap(map);\n  }\n}\n\nfunction hideDataGrid(hidden) {\n  dataGrid.forEach(function (rectangle) {\n    rectangle.setVisible(!hidden);\n  });\n}\n\nfunction displayGrid(map) {\n  dataGrid = [];\n\n  //Step1: find biggest square (in pixels) on map\n  let bounds = map.getBounds();\n  let projection = map.getProjection();\n\n  let ne = projection.fromLatLngToPoint(bounds.getNorthEast());\n  let sw = projection.fromLatLngToPoint(bounds.getSouthWest());\n\n  let scale = Math.pow(2, map.getZoom());\n\n  let widthPixels = (ne.x - sw.x) * scale;\n  let heightPixels = (sw.y - ne.y) * scale;\n\n  let totalSquareLengthPixels = Math.min(widthPixels, heightPixels);\n\n  //Step 2: find grid size in pixels\n  let gridLengthPixels = Math.round(totalSquareLengthPixels / 20); //Eventually changeable by slider\n\n\n  //Step 3: Create grid data structure\n  let xOffsetOffScreen = gridLengthPixels + (0.5 * (widthPixels % gridLengthPixels));\n  let yOffsetOffScreen = gridLengthPixels + (0.5 * (heightPixels % gridLengthPixels));\n\n  let gridsAmountX = 3 + Math.round(widthPixels / gridLengthPixels);\n  let gridsAmountY = 3 + Math.round(heightPixels / gridLengthPixels); //todo recalculate\n\n\n  //Using Pixels for grids because converting each grid coordinate to latlng and comparing each data point to a\n  //list of lats and lngs takes much longer than finding pixel coordinate of datapoint! (then grid is easy to find)\n\n  let gridsXPixels = [];\n  let xPixels;\n  for (xPixels = -xOffsetOffScreen; xPixels < widthPixels + gridLengthPixels; xPixels += gridLengthPixels) {\n    gridsXPixels.push(Math.round(xPixels));\n  }\n  let maxX = xPixels + gridLengthPixels;\n\n  let gridsYPixels = [];\n  let yPixels;\n  for (yPixels = -yOffsetOffScreen; yPixels < heightPixels + gridLengthPixels; yPixels += gridLengthPixels) {\n    gridsYPixels.push(Math.round(yPixels));\n  }\n  let maxY = yPixels + gridLengthPixels;\n\n  //3D array! [X Position][Y Position][List of data in grid]\n  let gridDataCollection = [];\n  for (let gridX = 0; gridX < gridsAmountX + 1; gridX++) {\n    gridDataCollection[gridX] = [];\n    for (let gridY = 0; gridY < gridsAmountY + 1; gridY++) {\n      gridDataCollection[gridX][gridY] = [];\n    }\n  }\n\n  allDataPoints.forEach(function (dataPoint) {\n    let latlng = new google.maps.LatLng(dataPoint.latlng.lat, dataPoint.latlng.lng);\n    let pixelPoint = projection.fromLatLngToPoint(latlng);\n    let pixelX = Math.round((pixelPoint.x - sw.x) * scale);\n    let pixelY = Math.round((pixelPoint.y - ne.y) * scale);\n\n    if (pixelX >= -xOffsetOffScreen && pixelX < maxX\n      && pixelY >= -yOffsetOffScreen && pixelY < maxY) {\n      let gridX = ((pixelX + xOffsetOffScreen) / gridLengthPixels);\n      let gridY = ((pixelY + yOffsetOffScreen) / gridLengthPixels);\n      gridDataCollection[(Math.floor(gridX))][Math.floor(gridY)].push(dataPoint.value);\n    }\n  });\n\n  let maxGridValue = 0;\n  let minGridValue = 100;\n  let sumOfGridValues = 0;\n  let totalGridValues = 0; //number of non-empty grids to calculate average grid value\n\n\n  let gridIndexToLatLngBounds = [];\n\n  for (let gridX = 0; gridX < gridsXPixels.length + 1; gridX++) {\n    gridIndexToLatLngBounds[gridX] = [];\n    for (let gridY = 0; gridY < gridsYPixels.length + 1; gridY++) {\n      let gridBounds = pointToLatLng(projection, gridsXPixels[gridX], gridsYPixels[gridY], sw.x, ne.y, scale, gridLengthPixels);\n      gridIndexToLatLngBounds[gridX][gridY] = gridBounds;\n\n      let values = gridDataCollection[gridX][gridY];\n\n      let count = values.length;\n      if (count === 0) {\n        gridDataCollection[gridX][gridY] = null;\n      } else {\n        let total = 0;\n        for (let index = 0; index < count; index++) {\n          total += parseInt(gridDataCollection[gridX][gridY][index]);\n        }\n        let avg = (total / count).toFixed(2);\n        gridDataCollection[gridX][gridY] = avg;\n\n        if (avg > maxGridValue) {\n          maxGridValue = avg;\n        }\n        if (avg < minGridValue) {\n          maxGridValue = avg;\n        }\n        sumOfGridValues += parseFloat(avg);\n        totalGridValues++;\n      }\n    }\n  }\n\n  // console.log(gridDataCollection);\n\n  /*for (gridX=0; gridX< gridsXPixels.length + 1; gridX++) {\n    for (gridY=0; gridY< gridsYPixels.length + 1; gridY++) {\n      drawRectangle(map, gridIndexToLatLngBounds[gridX][gridY], gridDataCollection[gridX][gridY]);\n    }\n  }*/\n\n  let gridBlendedDataCollection = blendGrid(gridDataCollection);\n\n  console.log(gridBlendedDataCollection);\n  for (let gridX = 0; gridX < gridsXPixels.length - 1; gridX++) {\n    for (let gridY = 0; gridY < gridsYPixels.length - 1; gridY++) {\n      drawRectangle(map, gridIndexToLatLngBounds[gridX + 1][gridY + 1], gridBlendedDataCollection[gridX][gridY]);\n    }\n  }\n}\n\nfunction blendGrid(gridDataCollection) {\n  let gridBlendedDataCollection = [];\n  for (let gridX = 1; gridX < gridDataCollection.length - 1; gridX++) {\n    gridBlendedDataCollection[gridX - 1] = [];\n    for (let gridY = 1; gridY < gridDataCollection[gridX].length - 1; gridY++) {\n      let total = 0; // total values for grid of 3 x 3\n      let count = 0;\n\n\n      for (let xIndex = gridX - 1; xIndex <= gridX + 1; xIndex++) {\n        for (let yIndex = gridY - 1; yIndex <= gridY + 1; yIndex++) {\n          let val = gridDataCollection[xIndex][yIndex];\n          if (val != null) {\n            count += parseInt(1);\n            total += parseFloat(val);\n          }\n        }\n      }\n\n      let dontShowGrid = ((count < 3) && (gridDataCollection[gridX][gridY] == null));\n      if (dontShowGrid) {\n        gridBlendedDataCollection[gridX - 1][gridY - 1] = null;\n      } else {\n        let avg = total / count;\n        gridBlendedDataCollection[gridX - 1][gridY - 1] = avg;\n      }\n    }\n  }\n\n  return gridBlendedDataCollection;\n}\n\nfunction blendOperation(gridValues, x, y, count, total) {\n  let val = gridValues[x][y];\n  if (!isNaN(val)) {\n    count += parseInt(1);\n    total += parseInt(val);\n  }\n}\n\nfunction pointToLatLng(projection, x, y, startX, startY, scale, gridLength) {\n  let nePoint = new google.maps.Point((x / scale) + startX, (y / scale) + startY);\n  let ne = projection.fromPointToLatLng(nePoint);\n  let swPoint = new google.maps.Point(((x + gridLength) / scale) + startX, ((y + gridLength) / scale) + startY);\n  let sw = projection.fromPointToLatLng(swPoint);\n\n  let bounds = new google.maps.LatLngBounds(ne, sw);\n  return bounds;\n}\n\nfunction drawRectangle(map, bounds, value) {\n  if (value != null) {\n    let hue = (100 - value) * 0.6;\n    let colorString = 'hsl(' + hue + ', 100%, 50%)';\n    dataGrid.push(new google.maps.Rectangle({\n      strokeWeight: 0,\n      fillColor: colorString,\n      fillOpacity: 0.7,\n      map: map,\n      bounds: bounds,\n    }));\n  }\n}","export function firebaseCredentials() {\n  return {\n    apiKey: \"AIzaSyCTY-5_e4vfG_hURD10OVQ-wOkkiBQpZlI\",\n    authDomain: \"airpoll-830fa.firebaseapp.com\",\n    databaseURL: \"https://airpoll-830fa.firebaseio.com\",\n    projectId: \"airpoll-830fa\",\n    storageBucket: \"airpoll-830fa.appspot.com\",\n    messagingSenderId: \"512203516382\"\n  };\n}"],"sourceRoot":""}